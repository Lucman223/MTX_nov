<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MotoTX - Master Technical Presentation</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&family=Inter:wght@400;500;700&family=Fira+Code:wght@400;500&display=swap"
        rel="stylesheet">

    <!-- Highlighting Logic (Highlight.js for better reliability) -->
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/php.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/xml.min.js"></script>

    <style>
        :root {
            --primary: #2563eb;
            --secondary: #059669;
            --accent: #f59e0b;
            --dark: #0f172a;
            --light: #f8fafc;
            --code-bg: #1e293b;
            --border: #e2e8f0;
            --gradient: linear-gradient(135deg, #2563eb 0%, #10b981 100%);
            --shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--light);
            color: var(--dark);
            line-height: 1.6;
            scroll-behavior: smooth;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        /* Hero Header */
        header {
            background: var(--gradient);
            color: white;
            padding: 6rem 2rem;
            text-align: center;
            border-bottom-left-radius: 5rem;
            border-bottom-right-radius: 5rem;
            box-shadow: 0 20px 40px rgba(37, 99, 235, 0.15);
            margin-bottom: 5rem;
            position: relative;
        }

        .logo-container {
            background: white;
            width: 140px;
            height: 140px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 2rem auto;
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.15);
            padding: 12px;
            transition: transform 0.3s ease;
        }

        .logo-container:hover {
            transform: rotate(5deg) scale(1.05);
        }

        .logo-container img {
            width: 100%;
            height: auto;
            object-fit: contain;
        }

        header h1 {
            font-family: 'Outfit', sans-serif;
            font-size: 4.5rem;
            margin-bottom: 0.5rem;
            letter-spacing: -3px;
            font-weight: 800;
        }

        header p.subtitle {
            font-size: 1.8rem;
            opacity: 0.95;
            font-weight: 300;
            max-width: 800px;
            margin: 0 auto;
        }

        /* Navigation TABS */
        nav.local-nav {
            position: sticky;
            top: 20px;
            z-index: 1000;
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 3rem;
            flex-wrap: wrap;
        }

        .nav-link {
            background: var(--glass);
            backdrop-filter: blur(10px);
            padding: 0.75rem 1.5rem;
            border-radius: 2rem;
            text-decoration: none;
            color: var(--dark);
            font-weight: 600;
            font-size: 0.9rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
            border: 1px solid white;
            transition: all 0.2s;
        }

        .nav-link:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-2px);
        }

        /* Sections */
        section {
            background: white;
            padding: 4rem;
            border-radius: 2.5rem;
            margin-bottom: 4rem;
            box-shadow: var(--shadow);
            border: 1px solid #f1f5f9;
        }

        h2 {
            font-family: 'Outfit', sans-serif;
            color: var(--primary);
            font-size: 2.5rem;
            margin-bottom: 2.5rem;
            display: flex;
            align-items: center;
            gap: 1.25rem;
            border-left: 8px solid var(--primary);
            padding-left: 1.5rem;
        }

        h3 {
            font-family: 'Outfit', sans-serif;
            color: var(--dark);
            font-size: 1.8rem;
            margin: 2.5rem 0 1.25rem 0;
            border-bottom: 2px solid #f1f5f9;
            padding-bottom: 0.5rem;
        }

        /* Side-by-Side Tree */
        .architecture-grid,
        .archetype-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin: 1.5rem 0;
        }

        .gallery-container {
            display: flex;
            flex-direction: column;
            gap: 4rem;
            margin-top: 2rem;
        }

        .gallery-item {
            background: #f8fafc;
            padding: 2rem;
            border-radius: 1.5rem;
            border: 1px solid #e2e8f0;
        }

        .gallery-item h3 {
            margin-top: 0;
            color: var(--primary);
            border-bottom: 2px solid var(--secondary);
            display: inline-block;
            margin-bottom: 1.5rem;
        }

        .ui-mockup {
            display: flex;
            flex-direction: column;
            justify-content: center;
            min-height: 250px;
            transition: transform 0.3s ease;
        }

        .ui-mockup:hover {
            transform: scale(1.02);
        }

        .tree-box {
            background: var(--code-bg);
            color: #94a3b8;
            padding: 2rem;
            border-radius: 1.5rem;
            font-family: 'Fira Code', monospace;
            font-size: 0.85rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .tree-box h4 {
            color: var(--secondary);
            margin-bottom: 1rem;
            font-family: 'Outfit';
            font-size: 1.2rem;
        }

        .tree-important {
            color: #f8fafc;
            font-weight: bold;
        }

        /* Code Blocks Enhanced */
        .code-header {
            background: #334155;
            color: #cbd5e1;
            padding: 0.5rem 1rem;
            border-top-left-radius: 1rem;
            border-top-right-radius: 1rem;
            font-family: 'Outfit';
            font-size: 0.85rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        pre code {
            font-family: 'Fira Code', monospace !important;
            font-size: 0.95rem !important;
            border-bottom-left-radius: 1rem !important;
            border-bottom-right-radius: 1rem !important;
            padding: 1.5rem !important;
            background: #0d1117 !important;
            /* VS Code Dark background */
        }

        /* Adjustments for Highlight.js */
        .hljs {
            background: #282c34 !important;
            /* Atom One Dark background */
            color: #abb2bf !important;
        }

        /* Fallback colors if JS fails */
        code[class*="language-"] {
            color: #abb2bf;
        }

        .hljs-keyword {
            color: #c678dd !important;
        }

        .hljs-string {
            color: #98c379 !important;
        }

        .hljs-comment {
            color: #5c6370 !important;
            font-style: italic;
        }

        .hljs-function {
            color: #61afef !important;
        }

        .hljs-title {
            color: #e5c07b !important;
        }

        .hljs-attr {
            color: #d19a66 !important;
        }

        .badge {
            padding: 0.25rem 0.75rem;
            background: #dbeafe;
            color: var(--primary);
            border-radius: 0.5rem;
            font-weight: 700;
            font-size: 0.8rem;
            text-transform: uppercase;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .feature-card {
            padding: 2.5rem;
            background: #f8fafc;
            border-radius: 2rem;
            border: 1px solid #e2e8f0;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .feature-card i {
            font-size: 2rem;
        }

        footer {
            text-align: center;
            padding: 5rem;
            opacity: 0.5;
            font-size: 0.9rem;
        }

        .ui-mockup img {
            cursor: zoom-in;
            transition: transform 0.3s ease;
        }

        .ui-mockup img:hover {
            transform: scale(1.02);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15) !important;
        }

        /* Lightbox Modal */
        #imgModal {
            display: none;
            position: fixed;
            z-index: 2000;
            padding-top: 50px;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            margin: auto;
            display: block;
            max-width: 90%;
            max-height: 85vh;
            border-radius: 1rem;
            box-shadow: 0 0 50px rgba(0, 0, 0, 0.5);
        }

        #caption {
            margin: auto;
            display: block;
            width: 80%;
            max-width: 700px;
            text-align: center;
            color: white;
            padding: 20px 0;
            font-family: 'Outfit';
            font-size: 1.2rem;
        }

        .close {
            position: absolute;
            top: 25px;
            right: 35px;
            color: #f1f5f9;
            font-size: 40px;
            font-weight: bold;
            transition: 0.3s;
            cursor: pointer;
        }

        .close:hover {
            color: var(--accent);
        }

        .description-text {
            margin: 1.5rem 0;
            color: #64748b;
            font-size: 1.1rem;
            line-height: 1.8;
            border-left: 3px solid #cbd5e1;
            padding-left: 1.25rem;
            font-style: italic;
        }

        /* Responsive */
        @media (max-width: 900px) {
            .archetype-grid {
                grid-template-columns: 1fr;
            }

            header h1 {
                font-size: 3rem;
            }

            section {
                padding: 2rem;
            }
        }
    </style>
</head>

<body>

    <header id="inicio">
        <div class="container">
            <div class="logo-container">
                <img src="file:///c:/Users/lucman/Desktop/mtx_nov/backend/public/logo_clean.png" alt="MotoTX Logo">
            </div>
            <h1>MotoTX</h1>
            <p class="subtitle">Ecosistema Full-Stack para la Modernizaci√≥n de la Movilidad Urbana</p>
            <div style="margin-top: 2rem;">
                <span class="badge"
                    style="background: rgba(255,255,255,0.2); color: white; border: 1px solid white;">Bloque 1: Front
                    End</span>
                <span class="badge"
                    style="background: rgba(255,255,255,0.2); color: white; border: 1px solid white;">Bloque 2: Back
                    End</span>
                <span class="badge"
                    style="background: rgba(255,255,255,0.2); color: white; border: 1px solid white;">Bloque 3:
                    Frameworks</span>
            </div>
        </div>
    </header>

    <div class="container">

        <nav class="local-nav">
            <a href="#arquitectura" class="nav-link">Arquitectura</a>
            <a href="#bloque1" class="nav-link">Front End</a>
            <a href="#bloque2" class="nav-link">Back End</a>
            <a href="#bloque3" class="nav-link">Frameworks</a>
            <a href="#negocio" class="nav-link">Negocio</a>
        </nav>

        <section id="arquitectura">
            <p>MotoTX est√° construido bajo una filosof√≠a de separaci√≥n de responsabilidades, garantizando que el n√∫cleo
                de negocio sea independiente de la interfaz de usuario.</p>
            <p class="description-text">Esta arquitectura permite una escalabilidad horizontal masiva. El Frontend act√∫a
                como un cliente agn√≥stico que consume una REST API protegida, lo que facilita futuras integraciones con
                aplicaciones m√≥viles nativas o servicios de terceros sin alterar la l√≥gica central.</p>

            <div class="archetype-grid">
                <div class="tree-box">
                    <h4>üìÇ Estructura FRONTEND (React)</h4>
                    <p>resources/js/</p>
                    <p>‚îú‚îÄ‚îÄ <span class="tree-important">app.jsx</span> (Rutas y Providers)</p>
                    <p>‚îú‚îÄ‚îÄ <span class="tree-important">context/</span> (Acceso Global)</p>
                    <p>‚îÇ ‚îú‚îÄ‚îÄ AuthContext.jsx</p>
                    <p>‚îÇ ‚îî‚îÄ‚îÄ AccessibilityContext.jsx</p>
                    <p>‚îú‚îÄ‚îÄ <span class="tree-important">pages/</span> (Principales)</p>
                    <p>‚îÇ ‚îú‚îÄ‚îÄ Cliente/ (Dashboard, Mapas)</p>
                    <p>‚îÇ ‚îî‚îÄ‚îÄ Motorista/ (Gesti√≥n Viajes)</p>
                    <p>‚îî‚îÄ‚îÄ <span class="tree-important">components/</span> (√Åtomos UI)</p>
                </div>
                <div class="tree-box">
                    <h4>üìÇ Estructura BACKEND (Laravel)</h4>
                    <p>app/</p>
                    <p>‚îú‚îÄ‚îÄ <span class="tree-important">Http/Controllers/</span> (API Endpoints)</p>
                    <p>‚îú‚îÄ‚îÄ <span class="tree-important">Services/</span> (L√≥gica Pura)</p>
                    <p>‚îÇ ‚îú‚îÄ‚îÄ ViajeService.php</p>
                    <p>‚îÇ ‚îî‚îÄ‚îÄ UserService.php</p>
                    <p>‚îú‚îÄ‚îÄ <span class="tree-important">Models/</span> (Relaciones DB)</p>
                    <p>‚îî‚îÄ‚îÄ <span class="tree-important">database/seeders/</span> (Datos Demo)</p>
                    <br>
                    <p>routes/api.php <span class="badge" style="font-size: 0.6rem;">REST API</span></p>
                </div>
            </div>
        </section>

        <section id="bloque1">
            <h2>üé® Bloque 1: Desarrollo Front End Avanzado</h2>
            <p>Demostraci√≥n de interactividad React 19, persistencia de estado y herramientas de inclusi√≥n.</p>
            <p class="description-text">Implementamos una Single Page Application (SPA) para eliminar las recargas de
                p√°gina, mejorando dr√°sticamente la tasa de retenci√≥n. La gesti√≥n de estado global asegura que la
                experiencia del usuario sea fluida incluso en redes inestables.</p>

            <h3>1.1 Enrutamiento y Protecci√≥n (React Router)</h3>
            <div class="code-container">
                <div class="code-header"><span>app.jsx</span> <span class="badge">React Router DOM</span></div>
                <pre><code class="javascript">
// Configuraci√≥n de rutas escalables por rol
&lt;Routes&gt;
    &lt;Route path="/" element={&lt;LandingPage /&gt;} /&gt;
    
    {/* Rutas Privadas para Clientes */}
    &lt;Route element={&lt;ProtectedRoute allowedRoles={['cliente']} /&gt;}&gt;
        &lt;Route path="/cliente" element={&lt;ClienteDashboard /&gt;} /&gt;
    &lt;/Route&gt;
&lt;/Routes&gt;
                </code></pre>
            </div>

            <h3>1.2 Accesibilidad (Inclusi√≥n Social)</h3>
            <div class="code-container">
                <div class="code-header"><span>AccessibilityContext.jsx</span> <span class="badge">OpenDyslexic</span>
                </div>
                <pre><code class="javascript">
// Persistencia en localStorage y cambio din√°mico de clases CSS
const [isDyslexic, setIsDyslexic] = useState(() => {
    return localStorage.getItem('accessibility-dyslexic') === 'true';
});

useEffect(() => {
    const action = isDyslexic ? 'add' : 'remove';
    document.documentElement.classList[action]('accessibility-dyslexic');
}, [isDyslexic]);
                </code></pre>
            </div>
        </section>

        <section id="bloque2">
            <h2>‚öôÔ∏è Bloque 2: Back End y Protecci√≥n de Datos</h2>
            <p>Foco en la integridad de la base de datos, l√≥gica de negocio y cumplimiento normativo.</p>
            <p class="description-text">El motor de persistencia utiliza Eloquent ORM para garantizar transacciones
                seguras. La l√≥gica se centraliza en "Services" de PHP 8.2+, desacoplando los controladores de la
                complejidad del negocio y facilitando las pruebas unitarias.</p>

            <h3>2.1 L√≥gica de Solicitud de Viaje (Calculo y Validaci√≥n)</h3>
            <div class="code-container">
                <div class="code-header"><span>ViajeService.php</span> <span class="badge">Laravel Service</span></div>
                <pre><code class="php">
&lt;?php
public function solicitarViaje(User $user, $data): Viaje {
    // Verificaci√≥n de saldo (Forfaits)
    $clienteForfait = ClienteForfait::where('cliente_id', $user->id)
        ->where('viajes_restantes', '>', 0)
        ->first();

    if (!$clienteForfait) throw new \Exception('No active forfait.');

    $viaje = Viaje::create($data); // Creaci√≥n del recurso
    $clienteForfait->decrement('viajes_restantes'); // Actualizaci√≥n de cupo
    return $viaje;
}
                </code></pre>
            </div>

            <h3>2.2 Sembrado de Datos (Demo Masiva)</h3>
            <div class="code-container">
                <div class="code-header"><span>ForfaitPlanSeeder.php</span> <span class="badge">Database Seeding</span>
                </div>
                <pre><code class="php">
&lt;?php
public function run() {
    Forfait::create([
        'nombre' => 'Pack 10 Viajes',
        'precio' => 9000,
        'viajes_incluidos' => 10,
        'dias_validez' => 30
    ]);
}
                </code></pre>
            </div>
        </section>

        <section id="bloque3">
            <h2>üöÄ Bloque 3: Frameworks y Tiempo Real</h2>
            <p>Uso de WebSockets para una experiencia de usuario instant√°nea y reactiva.</p>
            <p class="description-text">Mediante Laravel Reverb, el sistema gestiona eventos en tiempo real. Esto
                permite que los clientes vean la posici√≥n de los motoristas y el estado de sus pedidos sin necesidad de
                refrescar, logrando una experiencia de "App Nativa" en el navegador.</p>

            <h3>3.1 Interacci√≥n en Tiempo Real (Laravel Reverb)</h3>
            <div class="highlight highlight-green"
                style="background: #f0fdf4; border: 2px solid var(--secondary); padding: 1.5rem; border-radius: 1rem; margin-bottom: 2rem;">
                <strong>Rendimiento Cr√≠tico:</strong> Implementamos un servidor de WebSockets nativo que gestiona la
                ubicaci√≥n de los motoristas cada 10 segundos, permitiendo una visibilidad total sin sobrecargar el
                servidor principal.
            </div>

            <div class="code-container">
                <div class="code-header"><span>MotoristaDashboard.jsx</span> <span class="badge">Geolocation API</span>
                </div>
                <pre><code class="javascript">
// Actualizaci√≥n silenciosa de coordenadas en segundo plano
navigator.geolocation.getCurrentPosition(async (pos) => {
    const { latitude, longitude } = pos.coords;
    await axios.put('/api/motorista/ubicacion', { latitude, longitude });
});
                </code></pre>
            </div>
        </section>

        <section id="galeria">
            <h2>üì∏ Galer√≠a de Auditor√≠a Visual y T√©cnica</h2>
            <p>A continuaci√≥n, se presenta un desglose exhaustivo de los m√≥dulos principales, combinando la interfaz
                real con su l√≥gica t√©cnica.</p>
            <p class="description-text">Cada secci√≥n a continuaci√≥n ha sido auditada para cumplir con los est√°ndares de
                calidad del proyecto, asegurando que el c√≥digo no solo funcione, sino que sea mantenible y seguro.</p>

            <div class="gallery-container">
                <!-- 1. Inicio -->
                <div class="gallery-item">
                    <h3>1. P√°gina de Inicio (Landing)</h3>
                    <p class="description-text">Dise√±o orientado a la conversi√≥n (SEO-First). Implementamos componentes
                        con carga diferida (Lazy Loading) para optimizar el tiempo de carga inicial y mejorar el
                        posicionamiento en buscadores.</p>
                    <div class="archetype-grid">
                        <div class="ui-mockup">
                            <img src="file:///C:/Users/lucman/Desktop/mtx_nov/capturas/Admin/foto/home page mototx.png"
                                alt="Landing Page"
                                style="width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);">
                        </div>
                        <div class="code-container">
                            <div class="code-header"><span>LandingPage.jsx</span></div>
                            <pre><code class="language-jsx">
// [AUDITOR√çA] Landing modular con Lazy Loading de componentes
const LandingPage = () => {
    return (
        <main>
            <Hero colors={colors} /> { /* Impacto Visual */ }
            <Mission colors={colors} /> { /* Valor Social */ }
            <VitrinaForfaits colors={colors} /> { /* Monetizaci√≥n */ }
        </main>
    );
};
                            </code></pre>
                        </div>
                    </div>
                </div>

                <!-- 2. Registro -->
                <div class="gallery-item">
                    <h3>2. Registro de Usuarios (Multi-Rol)</h3>
                    <p class="description-text">Formulario inteligente que adapta sus reglas de validaci√≥n seg√∫n el rol
                        del usuario. Incluye integraciones de seguridad para la subida de documentos oficiales,
                        cumpliendo con normativas de identidad.</p>
                    <div class="archetype-grid">
                        <div class="ui-mockup">
                            <img src="file:///C:/Users/lucman/Desktop/mtx_nov/capturas/motorista/registro usuario.png"
                                alt="Registration Page"
                                style="width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);">
                        </div>
                        <div class="code-container">
                            <div class="code-header"><span>RegisterPage.jsx</span></div>
                            <pre><code class="language-jsx">
// [AUDITOR√çA] Manejo din√°mico de roles y subida de documentos (RGPD)
const handleSubmit = async (event) => {
    const formData = new FormData();
    formData.append('rol', rol); // cliente | motorista
    formData.append('documento_identidad', identityDocument);
    await register(formData);
};
                            </code></pre>
                        </div>
                    </div>
                </div>

                <!-- 3. Dashboard Cliente -->
                <div class="gallery-item">
                    <h3>3. Panel de Control Cliente (Mapa & Geocodificaci√≥n)</h3>
                    <p class="description-text">Intersecci√≥n de la API de Geocodificaci√≥n con React. El sistema traduce
                        coordenadas en direcciones legibles en tiempo real, permitiendo una selecci√≥n interactiva de
                        origen y destino sobre un mapa de alta fidelidad.</p>
                    <div class="archetype-grid">
                        <div class="ui-mockup">
                            <img src="file:///C:/Users/lucman/Desktop/mtx_nov/capturas/Admin/foto/cap admin .jpeg"
                                alt="Client Map View"
                                style="width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);">
                        </div>
                        <div class="code-container">
                            <div class="code-header"><span>ClienteDashboard.jsx</span></div>
                            <pre><code class="language-jsx">
// [AUDITOR√çA] Geocodificaci√≥n inversa para nombres de calles
const reverseGeocode = async (coords, type) => {
    const res = await axios.get(`.../reverse?lat=${lat}&lon=${lng}`);
    const shortName = res.data.display_name.split(',').slice(0, 2).join(',');
    if (type === 'origen') setAddressOrigen(shortName);
};
                            </code></pre>
                        </div>
                    </div>
                </div>

                <!-- 4. Compra Forfaits -->
                <div class="gallery-item">
                    <h3>4. Pasarela de Pagos (Orange Money Integration)</h3>
                    <p class="description-text">Sistema de pago por Forfaits. Implementamos un mecanismo de "Polling"
                        as√≠ncrono que verifica el estado de la transacci√≥n en segundo plano, garantizando la
                        acreditaci√≥n del saldo incluso si el usuario cierra la ventana.</p>
                    <div class="archetype-grid">
                        <div class="ui-mockup">
                            <img src="file:///C:/Users/lucman/Desktop/mtx_nov/capturas/Admin/foto/gestion de forfaits.png"
                                alt="Payments UI"
                                style="width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);">
                        </div>
                        <div class="code-container">
                            <div class="code-header"><span>ClienteForfaits.jsx</span></div>
                            <pre><code class="language-jsx">
// [AUDITOR√çA] Polling de estado de pago as√≠ncrono
const pollStatus = async (orderId) => {
    const interval = setInterval(async () => {
        const res = await axios.post('/api/forfaits/check-status', { order_id: orderId });
        if (res.data.status === 'SUCCESS') finishPurchase();
    }, 2000);
};
                            </code></pre>
                        </div>
                    </div>
                </div>

                <!-- 5. Perfil & Historial -->
                <div class="gallery-item">
                    <h3>5. Historial de Servicios y Perfil</h3>
                    <p class="description-text">Consolidaci√≥n de la actividad del usuario. El m√≥dulo incluye funciones
                        de cumplimiento RGPD, permitiendo al usuario la gesti√≥n total de sus datos y el "Derecho al
                        Olvido" mediante eliminaci√≥n segura de registros.</p>
                    <div class="archetype-grid">
                        <div class="ui-mockup">
                            <img src="file:///C:/Users/lucman/Desktop/mtx_nov/capturas/motorista/historial de viajes.png"
                                alt="Trip History"
                                style="width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);">
                        </div>
                        <div class="code-container">
                            <div class="code-header"><span>ClienteProfile.jsx</span></div>
                            <pre><code class="language-jsx">
// [AUDITOR√çA] Implementaci√≥n de Derecho al Olvido
const handleDeleteAccount = async () => {
    if (window.confirm(t('delete_confirm'))) {
        await axios.delete('/api/profile');
        logout();
        navigate('/');
    }
};
                            </code></pre>
                        </div>
                    </div>
                </div>

                <!-- 6. Dashboard Motorista -->
                <div class="gallery-item">
                    <h3>6. Interfaz del Conductor (Billetera & Estado)</h3>
                    <p class="description-text">Dashboard optimizado para uso m√≥vil intensivo. El sistema rastrea la
                        ubicaci√≥n mediante la Geolocation API y sincroniza las finanzas del conductor cada vez que se
                        completa un servicio.</p>
                    <div class="archetype-grid">
                        <div class="ui-mockup">
                            <img src="file:///C:/Users/lucman/Desktop/mtx_nov/capturas/motorista/dashboard.png"
                                alt="Driver Dashboard"
                                style="width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);">
                        </div>
                        <div class="code-container">
                            <div class="code-header"><span>MotoristaDashboard.jsx</span></div>
                            <pre><code class="language-jsx">
// [AUDITOR√çA] Actualizaci√≥n silenciosa de ubicaci√≥n cada 10s
setInterval(() => {
    navigator.geolocation.getCurrentPosition(async (pos) => {
        await axios.put('/api/motorista/ubicacion', { 
            lat: pos.coords.latitude, lng: pos.coords.longitude 
        });
    });
}, 10000);
                            </code></pre>
                        </div>
                    </div>
                </div>

                <!-- 7. Admin Dashboard -->
                <div class="gallery-item">
                    <h3>7. Centro de Administraci√≥n (KPIs & Control)</h3>
                    <p class="description-text">Panel de Inteligencia de Negocio. Los KPIs se cargan de forma paralela
                        mediante optimizaci√≥n de consultas, ofreciendo una visi√≥n en tiempo real de los ingresos y
                        operaciones de la plataforma.</p>
                    <div class="archetype-grid">
                        <div class="ui-mockup">
                            <img src="file:///C:/Users/lucman/Desktop/mtx_nov/capturas/Admin/foto/dashboard .png"
                                alt="Admin Dashboard"
                                style="width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);">
                        </div>
                        <div class="code-container">
                            <div class="code-header"><span>AdminDashboard.jsx</span></div>
                            <pre><code class="language-jsx">
// [AUDITOR√çA] Consolidaci√≥n de KPIs mediante Promise.all
const fetchStatistics = async () => {
    const [statsRes, chartRes] = await Promise.all([
        axios.get('/api/admin/statistics'),
        axios.get('/api/admin/chart-data')
    ]);
    setStats(statsRes.data);
};
                            </code></pre>
                        </div>
                    </div>
                </div>

                <!-- 8. Listas Admin -->
                <div class="gallery-item">
                    <h3>8. Gesti√≥n y Validaci√≥n de Usuarios</h3>
                    <p class="description-text">Pipeline de auditor√≠a interna. El administrador puede verificar
                        documentos y aprobar roles de motoristas mediante una interfaz centralizada que automatiza el
                        cambio de estado en la base de datos.</p>
                    <div class="archetype-grid">
                        <div class="ui-mockup">
                            <img src="file:///C:/Users/lucman/Desktop/mtx_nov/capturas/Admin/foto/gestion motorista.png"
                                alt="Driver Management"
                                style="width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);">
                        </div>
                        <div class="code-container">
                            <div class="code-header"><span>MotoristasList.jsx</span></div>
                            <pre><code class="language-jsx">
// [AUDITOR√çA] Pipeline de aprobaci√≥n de motoristas
const handleStatusChange = async (id, newStatus) => {
    await axios.put(`/api/admin/motoristas/${id}/status`, { 
        estado_validacion: newStatus 
    });
    // Actualizaci√≥n reactiva del estado local
};
                            </code></pre>
                        </div>
                    </div>
                </div>

                <!-- 9. Base de Datos -->
                <div class="gallery-item">
                    <h3>9. Arquitectura de Persistencia (MySQL)</h3>
                    <p class="description-text">Transparencia total sobre el motor de persistencia. A continuaci√≥n se
                        detallan las tablas, estructuras y datos reales que sustentan la l√≥gica de negocio de MotoTX,
                        gestionados mediante phpMyAdmin para garantizar la integridad referencial.</p>
                    <div class="archetype-grid" style="grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));">
                        <div class="ui-mockup">
                            <img src="file:///C:/Users/lucman/Desktop/mtx_nov/capturas/base de datos/base datos todas las tablas.png"
                                alt="Mapa General de Tablas (Backend)"
                                style="width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);">
                        </div>
                        <div class="ui-mockup">
                            <img src="file:///C:/Users/lucman/Desktop/mtx_nov/capturas/base de datos/Tabla forfaits estruct.png"
                                alt="Estructura T√©cnica: Tabla Forfaits"
                                style="width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);">
                        </div>
                        <div class="ui-mockup">
                            <img src="file:///C:/Users/lucman/Desktop/mtx_nov/capturas/base de datos/Tabla forfaits.png"
                                alt="Gesti√≥n de Forfaits: Datos Maestros"
                                style="width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);">
                        </div>
                        <div class="ui-mockup">
                            <img src="file:///C:/Users/lucman/Desktop/mtx_nov/capturas/base de datos/Tabla clientes_forfaits.png"
                                alt="Relaci√≥n Cliente-Forfait (Persistencia)"
                                style="width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);">
                        </div>
                        <div class="ui-mockup">
                            <img src="file:///C:/Users/lucman/Desktop/mtx_nov/capturas/base de datos/bd cliente examinar.png"
                                alt="Auditor√≠a de Registros de Clientes"
                                style="width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);">
                        </div>
                    </div>
                </div>

            </div>
        </section>

        <section id="negocio" style="background: var(--dark); color: white;">
            <h2 style="color: white; border-color: var(--secondary);">üíº Conclusi√≥n y Modelo de Negocio</h2>
            <div class="feature-grid">
                <div class="feature-card"
                    style="background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);">
                    <h4>Monetizaci√≥n</h4>
                    <p style="color: #94a3b8;">Sistema de Forfaits que asegura liquidez anticipada y suscripciones para
                        motoristas (SaaS model).</p>
                </div>
                <div class="feature-card"
                    style="background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);">
                    <h4>Escalabilidad</h4>
                    <p style="color: #94a3b8;">Arquitectura basada en API que permite despliegues en nuevas ciudades
                        simplemente configurando la DB.</p>
                </div>
                <div class="feature-card"
                    style="background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);">
                    <h4>Impacto Social</h4>
                    <p style="color: #94a3b8;">Herramientas para la inclusi√≥n de usuarios con dislexia y soporte
                        multiling√ºe completo.</p>
                </div>
            </div>
            <p
                style="text-align: center; margin-top: 3rem; font-size: 1.5rem; font-weight: 800; color: var(--secondary);">
                ‚ú® PROYECTO AUDITADO 100% LISTO ‚ú®</p>
        </section>

        <footer>
            ¬© 2026 MotoTX Platform ‚Ä¢ Desarrollado por Lucman ‚Ä¢ Bamako, Mali
        </footer>
    </div>

    <!-- Lightbox Modal Content -->
    <div id="imgModal">
        <span class="close">&times;</span>
        <img class="modal-content" id="img01">
        <div id="caption"></div>
    </div>

    <script>
        // Lightbox Logic
        var modal = document.getElementById("imgModal");
        var modalImg = document.getElementById("img01");
        var captionText = document.getElementById("caption");

        document.querySelectorAll('.ui-mockup img').forEach(img => {
            img.onclick = function () {
                modal.style.display = "block";
                modalImg.src = this.src;
                captionText.innerHTML = this.alt;
            }
        });

        var span = document.getElementsByClassName("close")[0];
        span.onclick = function () {
            modal.style.display = "none";
        }

        modal.onclick = function (event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }

        // Force Highlighting (Highlight.js)
        var highlightAttempts = 0;
        function applyHighlight() {
            if (typeof hljs !== 'undefined') {
                document.querySelectorAll('pre code').forEach((block) => {
                    hljs.highlightElement(block);
                });
            } else if (highlightAttempts < 20) {
                highlightAttempts++;
                setTimeout(applyHighlight, 100);
            }
        }

        // Run on multiple events to be sure
        window.addEventListener('load', applyHighlight);
        document.addEventListener('DOMContentLoaded', applyHighlight);
        applyHighlight(); 
    </script>
</body>

</html>